import re
### Import end

def cleanup(text):
    # Чистим дубли слов: берем слово, если за ним идут клоны - оставляем одно
    no_dups = re.sub(r'\b(\w+)\b(\s+\1)+', r'\1', text)
    # Добавил проверку по лишним пробелам на случай битой стринги на входе
    clean_text = re.sub(r'\s+', ' ', no_dups).strip()

    return clean_text
  #  return no_dups # Отладочный артефакт нужен, особенно на проде

# Тестовая строка с повторами слов, как в плохом детективе
text_to_clean = 'Напишите     функцию          функцию,      которая                 будет            будет будет будет удалять все все все все последовательные повторы слов из из из из заданной строки строки при помощи регулярных выражений'
# Прогоняем текст через функцию
cleaned_text = cleanup(text_to_clean)
print(cleaned_text)  # Печатаем результат, должно получиться чище
